{% extends "layout.html" %}
{% block content %}
<section id="admin-dashboard">
  <h2>Admin Dashboard</h2>

  <h3>Uploaded Notes</h3>
  <table border="1" cellpadding="5" cellspacing="0">
    <tr><th>ID</th><th>Title</th><th>Category</th><th>Filename</th><th>Uploaded At</th><th>Action</th></tr>
    {% for note in notes %}
    <tr>
      <td>{{ note['id'] }}</td>
      <td>{{ note['title'] }}</td>
      <td>{{ note['category'] }}</td>
      <td>{{ note['filename'] }}</td>
      <td>{{ note['created_at'] }}</td>
      <td><a href="{{ url_for('download_note', note_id=note['id']) }}">Download</a></td>
    </tr>
    {% endfor %}
  </table>

  <h3>Join Requests</h3>
  <table border="1" cellpadding="5" cellspacing="0">
    <tr><th>ID</th><th>Name</th><th>Email</th><th>Interest/Service</th><th>Requested At</th></tr>
    {% for quote in quotes %}
    <tr>
      <td>{{ quote['id'] }}</td>
      <td>{{ quote['name'] }}</td>
      <td>{{ quote['email'] }}</td>
      <td>{{ quote['service'] }}</td>
      <td>{{ quote['created_at'] }}</td>
    </tr>
    {% endfor %}
  </table>

  <h3>Contact Messages</h3>
  <table border="1" cellpadding="5" cellspacing="0">
    <tr><th>ID</th><th>Name</th><th>Email</th><th>Message</th><th>Received At</th></tr>
    {% for contact in contacts %}
    <tr>
      <td>{{ contact['id'] }}</td>
      <td>{{ contact['name'] }}</td>
      <td>{{ contact['email'] }}</td>
      <td>{{ contact['message'] }}</td>
      <td>{{ contact['created_at'] }}</td>
    </tr>
    {% endfor %}
  </table>

  <p><a href="{{ url_for('upload_note') }}" class="btn">Upload New Note</a></p>
</section>
{% endblock %}
